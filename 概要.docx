高层次概览（要点）
前端：React + TypeScript，使用 Vite 作为开发服务器与构建工具。
渲染层：Canvas 驱动的像素风格渲染（PixelTree、StaticDecorations、Snow）。
服务层（前端内置服务）：audioService（Web Audio 合成器）和 geminiService（调用外部 Gemini AI，需要 API Key）。
开发访问：本机通过 Vite 的本地服务器（例如 http://localhost:3000/），局域网可用主机 IP:3000 访问。
环境变量：GEMINI_API_KEY 在 vite.config.ts 被注入到前端（通过 define），用于 geminiService。

+---------------------------+                +------------------+
|        Browser / User     |                |  Local Dev Host  |
|  (访问 http://localhost)  | <---HTTP--->   |  (Vite dev server)|
+-----------+---------------+                +---------+--------+
            |                                        |
            | Render App (index.html -> index.tsx)   | Vite HMR / serve files
            |                                        |
            v                                        v
+---------------------------+              +----------------------------+
|        React App          |              |  vite.config.ts / env vars |
|  files: index.tsx, App.tsx|              |  (injects GEMINI_API_KEY)  |
+----+----------------------+              +----------------------------+
     |
     | mounts
     v
+-----------------------------------------------+
| App.tsx                                       |
| - 显示问候语                                   |
| - 管理 TreeConfig                              |
| - 启动/停止 audioService                       |
| - 渲染 <PixelTree config={...} />              |
+----------------+------------------------------+
                 |
    +------------+------------+
    |            |            |
    v            v            v
+-------+   +-----------+  +------------------+
|Pixel- |   | Static-   |  |   Snow (canvas)  |
|Tree   |   |Decorations|  |  - 全屏像素雪花   |
|(`PixelTree.tsx`)|(`StaticDecorations.tsx`) | (`Snow.tsx`) |
| - 3D voxel生成    | - 静态礼物/糖果/棒糖       |
| - 雪花粒子（内部） | - 单帧渲染到 canvas       |
+-------+   +-----------+  +------------------+
                 |
                 v
         (canvas 渲染像素艺术 & 动画帧)
                 |
                 v
+-----------------------------------------------+
| services/                                     |
| - audioService.ts    (本地 WebAudio 合成器)    |
|     * start()/stop()                          |
|     * 播放 Jingle Bells（调度器）              |
| - geminiService.ts   (调用 @google/genai)     |
|     * 需要 process.env.GEMINI_API_KEY         |
+-----------------------------------------------+

+-------------------------------+
| types.ts  (类型声明)          |
+-------------------------------+

+-------------------------------+
| package.json  (依赖 & scripts) |
+-------------------------------+

+-------------------------------+
| index.html (页面模板, tailwind)|
+-------------------------------+


组件 / 文件 说明（更详细）
index.html

项目入口 HTML。加载字体、Tailwind CDN、提供 #root 挂载点。
通过 import map 暴露一些 CDN 包（项目内同时有 package.json，本地安装的包会优先使用 Vite 打包的版本）。
index.tsx

React 应用的挂载入口，创建 React 根实例并渲染 App。
App.tsx

页面级容器，包含问候标题、配置（TreeConfig）、负责尝试解锁与自动启动 audioService，渲染 PixelTree 组件。
PixelTree.tsx

主要 3D 像素场景生成器（以体素为单位构建树、底座、礼物、星星等）。
使用 Canvas 渲染“投影”与深度排序，包含雪花粒子（球内物理模拟）。
接收 config，驱动旋转、像素大小和装饰显示。
StaticDecorations.tsx

生成并渲染静态的礼物、棒棒糖等装饰体素（Canvas 渲染，一次性场景，通常不随树旋转）。
Snow.tsx

简单的全屏 2D 雪花粒子动画（像素风格），可叠加在场景上以增强气氛。
audioService.ts

使用 Web Audio API 创建合成器（方波/三角波），实现音符调度器与节拍（播放 Jingle Bells）。
暴露 start()、stop()，在 App.tsx 中控制。
geminiService.ts

使用 @google/genai（需提供 GEMINI_API_KEY）生成简短的节日问候。
在当前代码中由 App 可用于替换静态问候文本（如果接入）。
types.ts

TypeScript 类型声明（Voxel, SongNote, TreeConfig, PlayState 等）。
vite.config.ts

Vite 配置：设定 server.host = '0.0.0.0'（使局域网访问可用）、端口 3000、React 插件，并把环境变量 GEMINI_API_KEY 注入到前端（通过 define）。
package.json

依赖（React、Vite、@google/genai 等）和脚本（dev, build, preview）。